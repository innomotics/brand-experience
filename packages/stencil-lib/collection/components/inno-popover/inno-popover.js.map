{"version":3,"file":"inno-popover.js","sourceRoot":"","sources":["../../../src/components/inno-popover/inno-popover.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  arrow,\r\n  autoUpdate,\r\n  computePosition,\r\n  ComputePositionReturn,\r\n  flip,\r\n  offset,\r\n  shift,\r\n  Placement\r\n} from '@floating-ui/dom';\r\nimport {\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  h,\r\n  Host,\r\n  Listen,\r\n  Method,\r\n  Prop,\r\n  Watch\r\n} from '@stencil/core';\r\nimport sanitizeHtml from 'sanitize-html';\r\n\r\ntype ArrowPosition = {\r\n  top?: string;\r\n  left?: string;\r\n  right?: string;\r\n  bottom?: string;\r\n};\r\n\r\nconst numberToPixel = (value: number) => (value != null ? `${value}px` : '');\r\n\r\n@Component({\r\n  tag: 'inno-popover',\r\n  styleUrl: 'inno-popover.scss',\r\n  scoped: true\r\n})\r\nexport class InnoPopover {\r\n\r\n  /**\r\n   * How to show the popover. If set to 'manual' then you need to programatically modify the 'visibile' property.\r\n   */\r\n  @Prop() trigger: 'hover' | 'click' | 'manual' = 'click';\r\n\r\n  /**\r\n   * Color variant of the popover.\r\n   */\r\n  @Prop({ mutable: true }) variant: 'light' | 'dark' = 'dark';\r\n\r\n  /**\r\n   * Css selector of the element the popover is for. This is just the initial value, \r\n   * don't update it manually. Use the 'updateForElement(...)' method instead.\r\n   */\r\n  @Prop() for: string;\r\n\r\n  /**\r\n   * Contents of the title. Can be either html or a simple string. Can be omitted.\r\n   */\r\n  @Prop({ mutable: true }) popoverTitle: string;\r\n\r\n  /**\r\n   * Contents of the text. Can be either html or a simple string. Can be omitted. You can use this property if you want a simple tooltip, \r\n   * otherwise you can provide your own html directly.\r\n   */\r\n  @Prop({ mutable: true }) popoverText: string;\r\n\r\n  /**\r\n   * Position of the popover. If there is not enough space it will be automatically placed to where it has enough place.\r\n   * Please note that the offset will remain the same in case the desired placement does not fit.\r\n   */\r\n  @Prop({ mutable: true }) placement: Placement = 'top';\r\n\r\n  /**\r\n   * Offset of the popover position in pixels. Please note that the offset will remain the same in case the desired placement does not fit.\r\n   */\r\n  @Prop({ mutable: true }) offset: number = 8;\r\n\r\n  /**\r\n   * Programatically change whether the popover is visible or not.\r\n   */\r\n  @Prop({ mutable: true }) visible = false;\r\n\r\n  /**\r\n   * Popover should have a backdrop. Has no effect if trigger type is 'hover'.\r\n   */\r\n  @Prop({ mutable: true }) hasBackdrop = false;\r\n\r\n  /**\r\n   * Popover will have a close button. Has no effect if trigger type is 'hover'.\r\n   */\r\n  @Prop({ mutable: true }) closable = false;\r\n\r\n  /** @internal */\r\n  @Prop() animationFrame = false;\r\n\r\n  private forInternal: string;\r\n\r\n  /**\r\n   * Fired when popover is shown.\r\n   */\r\n  @Event() innoPopoverShown: EventEmitter<void>;\r\n\r\n  /**\r\n   * Fired when popover is hidden.\r\n   */\r\n  @Event() innoPopoverHidden: EventEmitter<void>;\r\n\r\n  @Element() hostElement: HTMLInnoPopoverElement;\r\n\r\n  private showBind = this.onTooltipShow.bind(this);\r\n  private hideBind = this.onTooltipHide.bind(this);\r\n  private disposeAutoUpdate?: () => void;\r\n\r\n  private backdropElement: HTMLDivElement;\r\n\r\n  private disposeListener: Function;\r\n\r\n  private arrowElement: HTMLElement;\r\n\r\n  private get forElement() {\r\n    return document.querySelector(this.forInternal ?? this.for);\r\n  }\r\n\r\n  private destroyAutoUpdate() {\r\n    if (this.disposeAutoUpdate != undefined) {\r\n      this.disposeAutoUpdate();\r\n    }\r\n  }\r\n\r\n  private onTooltipShow(event: globalThis.Event) {\r\n    if (this.trigger === 'click') {\r\n      event?.preventDefault();\r\n      event?.stopPropagation();\r\n    }\r\n\r\n    if (!this.visible) {\r\n      this.showTooltip();\r\n    }\r\n  }\r\n\r\n  private onTooltipHide() {\r\n    this.hideTooltip();\r\n  }\r\n\r\n  /**\r\n   * Show the tooltip.\r\n   */\r\n  @Method()\r\n  async showTooltip() {\r\n    const anchorElement = this.forElement;\r\n    if (!!anchorElement) {\r\n      this.createBackdrop();\r\n      await this.computeTooltipPositionWithAutoUpdate(anchorElement);\r\n      this.visible = true;\r\n      this.innoPopoverShown.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hide the tooltip.\r\n   */\r\n  @Method()\r\n  async hideTooltip() {\r\n    this.destroyBackdrop();\r\n    this.destroyAutoUpdate();\r\n    this.visible = false;\r\n    this.innoPopoverHidden.emit();\r\n  }\r\n\r\n  /**\r\n   * Updates the element the popover is for including all the internal event listeners and the popover's position.\r\n   * If called without a parameter it will refresh the internal event listeners and the popover's position for the current target element.\r\n   * If called with a nonexisting selector it will refresh the internal event listeners and the popover's position for the current target element.\r\n   * Returns a Promise which is 'true' when the update/refresh succeded. \r\n   * Returns 'false' if neither the current target element nor the element from the parameter exists. \r\n   */\r\n  @Method()\r\n  async updateForElement(forElement: string = null) {\r\n    if (!!document.querySelector(forElement) || !!this.forElement) {\r\n      this.destroyAutoUpdate();\r\n      if (this.disposeListener) {\r\n        this.disposeListener();\r\n      }\r\n    }\r\n\r\n    if (!!document.querySelector(forElement)) {\r\n      this.forInternal = forElement;\r\n    }\r\n\r\n    const anchorElement = this.forElement;\r\n    if (!!anchorElement) {\r\n      this.registerHoverListeners();\r\n      this.registerClickListener();\r\n\r\n      if (this.visible) {\r\n        await this.computeTooltipPositionWithAutoUpdate(anchorElement);\r\n      } else {\r\n        await this.computePosition(anchorElement);\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private createBackdrop(): void {\r\n    let backdropVisible = this.hasBackdrop && this.trigger !== 'hover';\r\n\r\n    if (backdropVisible) {\r\n      this.backdropElement = document.createElement(\"div\");\r\n      this.backdropElement.classList.add(\"inno-popover-backdrop\");\r\n      this.backdropElement.style.cssText = `\r\n        display: block;\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 1000;\r\n        width: 100vw;\r\n        height: 100vh;\r\n        background-color: white;\r\n        opacity: 0.6;\r\n      `;\r\n      document.body.appendChild(this.backdropElement);\r\n    }\r\n  }\r\n\r\n  private destroyBackdrop(): void {\r\n    if (!!this.backdropElement) {\r\n      this.backdropElement.remove();\r\n      this.backdropElement = null;\r\n    }\r\n  }\r\n\r\n  @Watch('visible')\r\n  visibleChanged() {\r\n    if (this.trigger === 'manual') {\r\n      if (this.visible) {\r\n        this.showTooltip();\r\n      } else {\r\n        this.hideTooltip();\r\n      }\r\n    }\r\n  }\r\n\r\n  private computeArrowPosition({\r\n    placement,\r\n    middlewareData\r\n  }: ComputePositionReturn): ArrowPosition {\r\n    let { x, y } = middlewareData.arrow;\r\n\r\n    if (placement.startsWith('top')) {\r\n      return {\r\n        left: numberToPixel(x),\r\n        bottom: numberToPixel(-4)\r\n      };\r\n    }\r\n\r\n    if (placement.startsWith('right')) {\r\n      return {\r\n        left: numberToPixel(-4),\r\n        top: numberToPixel(y)\r\n      };\r\n    }\r\n\r\n    if (placement.startsWith('bottom')) {\r\n      return {\r\n        left: numberToPixel(x),\r\n        top: numberToPixel(-4)\r\n      };\r\n    }\r\n\r\n    if (placement.startsWith('left')) {\r\n      return {\r\n        right: numberToPixel(-4),\r\n        top: numberToPixel(y)\r\n      };\r\n    }\r\n  }\r\n\r\n  private async computePosition(target: Element) {\r\n    return new Promise<void>(async (resolve) => {\r\n      const computeResponse = await computePosition(\r\n        target,\r\n        this.hostElement,\r\n        {\r\n          strategy: 'fixed',\r\n          placement: this.placement,\r\n          middleware: [\r\n            offset({\r\n              mainAxis: this.offset\r\n            }),\r\n            shift(),\r\n            flip({\r\n              mainAxis: true,\r\n              crossAxis: true,\r\n              fallbackAxisSideDirection: 'start',\r\n              fallbackStrategy: 'bestFit',\r\n              padding: 5\r\n            }),\r\n            arrow({\r\n              element: this.arrowElement,\r\n              padding: 16\r\n            })\r\n          ]\r\n        }\r\n      );\r\n\r\n      if (!!this.arrowElement && !!computeResponse.middlewareData.arrow) {\r\n        const arrowPosition = this.computeArrowPosition(computeResponse);\r\n        this.arrowElement.style.top = \"unset\";\r\n        this.arrowElement.style.bottom = \"unset\";\r\n        this.arrowElement.style.right = \"unset\";\r\n        this.arrowElement.style.left = \"unset\";\r\n        Object.assign(this.arrowElement.style, arrowPosition);\r\n      }\r\n\r\n      const { x, y } = computeResponse;\r\n      Object.assign(this.hostElement.style, {\r\n        left: x !== null ? `${x}px` : '',\r\n        top: y !== null ? `${y}px` : ''\r\n      });\r\n\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  private async computeTooltipPositionWithAutoUpdate(target: Element) {\r\n    if (!target) {\r\n      return;\r\n    }\r\n\r\n    await this.computePosition(target);\r\n\r\n    return new Promise<void>((resolve) => {\r\n      this.disposeAutoUpdate = autoUpdate(\r\n        target,\r\n        this.hostElement,\r\n        async () => {\r\n          await this.computePosition(target);\r\n          resolve();\r\n        },\r\n        {\r\n          ancestorResize: true,\r\n          ancestorScroll: true,\r\n          elementResize: true,\r\n          layoutShift: true,\r\n          animationFrame: this.animationFrame\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  private registerHoverListeners() {\r\n    if (this.trigger === 'hover') {\r\n      const forElement = this.forElement;\r\n      forElement.addEventListener('mouseenter', this.showBind);\r\n      forElement.addEventListener('mouseleave', this.hideBind);\r\n      forElement.addEventListener('focusin', this.showBind);\r\n      forElement.addEventListener('focusout', this.hideBind);\r\n\r\n      this.disposeListener = () => {\r\n        const forElement = this.forElement;\r\n        forElement?.removeEventListener('mouseenter', this.showBind);\r\n        forElement?.removeEventListener('mouseleave', this.hideBind);\r\n        forElement?.removeEventListener('focusin', this.showBind);\r\n        forElement?.removeEventListener('focusout', this.hideBind);\r\n      };\r\n    };\r\n  }\r\n\r\n  private registerClickListener() {\r\n    if (this.trigger === 'click') {\r\n      this.forElement.addEventListener('click', this.showBind);\r\n\r\n      this.disposeListener = () => {\r\n        this.forElement?.removeEventListener('click', this.showBind);\r\n      };\r\n    }\r\n  }\r\n\r\n  @Listen('keydown', { target: 'window' })\r\n  async onKeydown(event: KeyboardEvent) {\r\n    if (this.visible && event.code === 'Escape') {\r\n      this.hideTooltip();\r\n    }\r\n  }\r\n\r\n  @Listen('click', { target: 'window' })\r\n  async onClick(event: globalThis.Event) {\r\n    if (this.visible) {\r\n      if ((this.trigger === 'click' && event.target !== this.hostElement && !this.hostElement.contains(event.target as Node))\r\n        || this.trigger === 'hover') {\r\n        this.hideTooltip();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.forElement == null) {\r\n      console.info(\"No valid html element found for the css selector in the 'for' property, 'for' value: \" + this.for);\r\n      return;\r\n    }\r\n\r\n    this.forInternal = this.for;\r\n    this.registerHoverListeners();\r\n    this.registerClickListener();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.destroyAutoUpdate();\r\n\r\n    if (this.disposeListener) {\r\n      this.disposeListener();\r\n    }\r\n\r\n    this.destroyBackdrop();\r\n  }\r\n\r\n  render() {\r\n    let hasCloseBtn: boolean = this.closable && this.trigger !== 'hover';\r\n    let hasTitleText: boolean = !!this.popoverTitle && this.popoverTitle !== '';\r\n    let hasText: boolean = !!this.popoverText && this.popoverText !== '';\r\n    let renderTitleRow: boolean = hasTitleText || hasCloseBtn;\r\n    let onlyCloseBtn: boolean = hasCloseBtn && !hasTitleText;\r\n\r\n    return (\r\n      <Host class={{\r\n        visible: this.visible,\r\n        light: this.variant === 'light',\r\n        dark: this.variant === 'dark'\r\n      }}>\r\n        <div class=\"tooltip-content\">\r\n          {renderTitleRow\r\n            ?\r\n            <div class={{ \"tooltip-title-row\": true, \"only-close-btn\": onlyCloseBtn }}>\r\n              {hasTitleText ? <div class=\"tooltip-title\" innerHTML={sanitizeHtml(this.popoverTitle)}></div> : null}\r\n              {hasCloseBtn ? <inno-icon icon='close' size={24} onClick={() => this.hideTooltip()}></inno-icon> : null}\r\n            </div>\r\n            : null}\r\n          {hasText ? <div class=\"tooltip-text\" innerHTML={sanitizeHtml(this.popoverText)}></div> : null}\r\n          <slot></slot>\r\n        </div>\r\n        <div ref={ref => this.arrowElement = ref} class=\"arrow\"></div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n"]}