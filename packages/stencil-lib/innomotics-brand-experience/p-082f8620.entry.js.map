{"version":3,"names":["innoStatusMessageContainerCss","InnoStatusMessageContainerStyle0","InnoStatusMessageContainer","PREFIX_POSITION_CLASS","hostContainer","Promise","resolve","interval","setInterval","containerElement","document","getElementById","this","containerId","clearInterval","componentDidLoad","container","createElement","id","classList","add","containerClass","position","body","appendChild","onPositionChange","newPosition","oldPosition","remove","showStatusMessage","config","statusMessage","onClose","TypedEvent","removeStatusMessage","result","emit","type","messageType","theme","autoClose","autoCloseDelay","showProgress","icon","iconColor","addEventListener","event","detail","message","innerText","close","render","h","Host","key","class"],"sources":["src/components/inno-status-message-container/inno-status-message-container.scss?tag=inno-status-message-container&encapsulation=scoped","src/components/inno-status-message-container/inno-status-message-container.tsx"],"sourcesContent":["@use '@innomotics/brand-experience/styles/components/inno-status-message-container';\r\n","import { Component, h, Host, Method, Prop, Watch } from '@stencil/core';\r\nimport { TypedEvent } from '../../utils/typed-event';\r\nimport { InnoStatusMessageConfig, InnoStatusMessagePosition, ShowStatusMessageResult } from '../inno-status-message/inno-status-message.api';\r\n\r\n/**\r\n * Container to hold the status messages.\r\n *\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'inno-status-message-container',\r\n  styleUrl: './inno-status-message-container.scss',\r\n  scoped: true,\r\n})\r\nexport class InnoStatusMessageContainer {\r\n  /**\r\n   * Customizable container id.\r\n   */\r\n  @Prop() containerId = 'status-message-container';\r\n\r\n  /**\r\n   * Customizable container class.\r\n   */\r\n  @Prop() containerClass = 'status-message-container';\r\n\r\n  /**\r\n   * Position of container.\r\n   */\r\n  @Prop() position: InnoStatusMessagePosition = 'top-right';\r\n\r\n  private readonly PREFIX_POSITION_CLASS = 'status-message-container--';\r\n\r\n  get hostContainer() {\r\n    return new Promise<HTMLElement>(resolve => {\r\n      const interval = setInterval(() => {\r\n        const containerElement = document.getElementById(this.containerId);\r\n        if (containerElement) {\r\n          clearInterval(interval);\r\n          resolve(containerElement);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (!document.getElementById(this.containerId)) {\r\n      const container = document.createElement('div');\r\n      container.id = this.containerId;\r\n      container.classList.add(this.containerClass);\r\n      container.classList.add(`${this.PREFIX_POSITION_CLASS}${this.position}`);\r\n      document.body.appendChild(container);\r\n    }\r\n  }\r\n\r\n  @Watch('position')\r\n  onPositionChange(newPosition: string, oldPosition: string) {\r\n    const container = document.getElementById(this.containerId);\r\n    container.classList.remove(`${this.PREFIX_POSITION_CLASS}${oldPosition}`);\r\n    container.classList.add(`${this.PREFIX_POSITION_CLASS}${newPosition}`);\r\n  }\r\n\r\n  /**\r\n   * Display a toast message\r\n   * @param config\r\n   */\r\n  @Method()\r\n  async showStatusMessage(config: InnoStatusMessageConfig): Promise<ShowStatusMessageResult> {\r\n    const statusMessage = document.createElement('inno-status-message');\r\n    const onClose = new TypedEvent<any | undefined>();\r\n\r\n    function removeStatusMessage(result?: any) {\r\n      statusMessage.remove();\r\n      onClose.emit(result);\r\n    }\r\n\r\n    // Config status message\r\n    if (config.type) {\r\n      statusMessage.messageType = config.type;\r\n    }\r\n    if (config.theme) {\r\n      statusMessage.theme = config.theme;\r\n    }\r\n    statusMessage.autoClose = config.autoClose;\r\n    statusMessage.autoCloseDelay = config.autoCloseDelay ?? 3000;\r\n    statusMessage.showProgress = config.showProgress;\r\n    statusMessage.icon = config.icon;\r\n    statusMessage.iconColor = config.iconColor;\r\n\r\n    // Subscribe to close event\r\n    statusMessage.addEventListener('closeMessage', (event: CustomEvent<any | undefined>) => {\r\n      const { detail } = event;\r\n      removeStatusMessage(detail);\r\n    });\r\n\r\n    // Set stasus message content\r\n    if (typeof config.message === 'string') {\r\n      statusMessage.innerText = config.message;\r\n    } else {\r\n      statusMessage.appendChild(config.message);\r\n    }\r\n\r\n    (await this.hostContainer).appendChild(statusMessage);\r\n\r\n    return {\r\n      onClose,\r\n      close: (result?: any) => {\r\n        removeStatusMessage(result);\r\n      },\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        class={{\r\n          [`${this.PREFIX_POSITION_CLASS}top-right`]: this.position === 'top-right',\r\n          [`${this.PREFIX_POSITION_CLASS}bottom-right`]: this.position === 'bottom-right',\r\n          [`${this.PREFIX_POSITION_CLASS}bottom-left`]: this.position === 'bottom-left',\r\n          [`${this.PREFIX_POSITION_CLASS}top-left`]: this.position === 'top-left',\r\n        }}\r\n      >\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"sFAAA,MAAMA,EAAgC,upBACtC,MAAAC,EAAeD,E,MCaFE,EAA0B,M,0CAIf,2B,oBAKG,2B,cAKqB,W,CAE7BC,sBAAwB,6BAEzC,iBAAIC,GACF,OAAO,IAAIC,SAAqBC,IAC9B,MAAMC,EAAWC,aAAY,KAC3B,MAAMC,EAAmBC,SAASC,eAAeC,KAAKC,aACtD,GAAIJ,EAAkB,CACpBK,cAAcP,GACdD,EAAQG,E,IAEV,G,CAIN,gBAAAM,GACE,IAAKL,SAASC,eAAeC,KAAKC,aAAc,CAC9C,MAAMG,EAAYN,SAASO,cAAc,OACzCD,EAAUE,GAAKN,KAAKC,YACpBG,EAAUG,UAAUC,IAAIR,KAAKS,gBAC7BL,EAAUG,UAAUC,IAAI,GAAGR,KAAKT,wBAAwBS,KAAKU,YAC7DZ,SAASa,KAAKC,YAAYR,E,EAK9B,gBAAAS,CAAiBC,EAAqBC,GACpC,MAAMX,EAAYN,SAASC,eAAeC,KAAKC,aAC/CG,EAAUG,UAAUS,OAAO,GAAGhB,KAAKT,wBAAwBwB,KAC3DX,EAAUG,UAAUC,IAAI,GAAGR,KAAKT,wBAAwBuB,I,CAQ1D,uBAAMG,CAAkBC,GACtB,MAAMC,EAAgBrB,SAASO,cAAc,uBAC7C,MAAMe,EAAU,IAAIC,EAEpB,SAASC,EAAoBC,GAC3BJ,EAAcH,SACdI,EAAQI,KAAKD,E,CAIf,GAAIL,EAAOO,KAAM,CACfN,EAAcO,YAAcR,EAAOO,I,CAErC,GAAIP,EAAOS,MAAO,CAChBR,EAAcQ,MAAQT,EAAOS,K,CAE/BR,EAAcS,UAAYV,EAAOU,UACjCT,EAAcU,eAAiBX,EAAOW,gBAAkB,IACxDV,EAAcW,aAAeZ,EAAOY,aACpCX,EAAcY,KAAOb,EAAOa,KAC5BZ,EAAca,UAAYd,EAAOc,UAGjCb,EAAcc,iBAAiB,gBAAiBC,IAC9C,MAAMC,OAAEA,GAAWD,EACnBZ,EAAoBa,EAAO,IAI7B,UAAWjB,EAAOkB,UAAY,SAAU,CACtCjB,EAAckB,UAAYnB,EAAOkB,O,KAC5B,CACLjB,EAAcP,YAAYM,EAAOkB,Q,QAG5BpC,KAAKR,eAAeoB,YAAYO,GAEvC,MAAO,CACLC,UACAkB,MAAQf,IACND,EAAoBC,EAAO,E,CAKjC,MAAAgB,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,2CACHC,MAAO,CACL,CAAC,GAAG3C,KAAKT,kCAAmCS,KAAKU,WAAa,YAC9D,CAAC,GAAGV,KAAKT,qCAAsCS,KAAKU,WAAa,eACjE,CAAC,GAAGV,KAAKT,oCAAqCS,KAAKU,WAAa,cAChE,CAAC,GAAGV,KAAKT,iCAAkCS,KAAKU,WAAa,aAG/D8B,EAAA,QAAAE,IAAA,6C","ignoreList":[]}